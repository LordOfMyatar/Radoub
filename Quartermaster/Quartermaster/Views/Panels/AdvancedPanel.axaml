<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d" d:DesignWidth="700" d:DesignHeight="800"
             x:Class="Quartermaster.Views.Panels.AdvancedPanel">

    <Border Background="{DynamicResource SystemControlBackgroundAltHighBrush}" Padding="20">
        <ScrollViewer VerticalScrollBarVisibility="Auto">
            <StackPanel Spacing="20">
                <!-- Header -->
                <TextBlock Text="Advanced Properties"
                           FontSize="20"
                           FontWeight="Bold"/>

                <!-- Blueprint/Identity Section -->
                <Border BorderBrush="{DynamicResource SystemBaseMediumLowColor}"
                        BorderThickness="1"
                        CornerRadius="4"
                        Padding="15"
                        x:Name="BlueprintSection">
                    <StackPanel Spacing="10">
                        <TextBlock Text="Identity" FontWeight="SemiBold" FontSize="14"/>

                        <Grid ColumnDefinitions="Auto,*,Auto" RowDefinitions="Auto,Auto,Auto" RowSpacing="8" ColumnSpacing="10">
                            <!-- Template ResRef with Copy -->
                            <TextBlock Grid.Row="0" Grid.Column="0" Text="Blueprint ResRef:"
                                       Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"
                                       VerticalAlignment="Center"/>
                            <TextBlock Grid.Row="0" Grid.Column="1" x:Name="TemplateResRefText" Text="-"
                                       FontFamily="Consolas, Courier New, monospace" VerticalAlignment="Center"/>
                            <Button Grid.Row="0" Grid.Column="2" x:Name="CopyResRefButton"
                                    Content="Copy" Padding="8,2" FontSize="11"
                                    AutomationProperties.AutomationId="CopyResRefButton"
                                    ToolTip.Tip="Copy ResRef to clipboard"/>

                            <!-- Tag with Copy -->
                            <TextBlock Grid.Row="1" Grid.Column="0" Text="Tag:"
                                       Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"
                                       VerticalAlignment="Center"/>
                            <TextBlock Grid.Row="1" Grid.Column="1" x:Name="TagText" Text="-"
                                       FontFamily="Consolas, Courier New, monospace" VerticalAlignment="Center"/>
                            <Button Grid.Row="1" Grid.Column="2" x:Name="CopyTagButton"
                                    Content="Copy" Padding="8,2" FontSize="11"
                                    AutomationProperties.AutomationId="CopyTagButton"
                                    ToolTip.Tip="Copy Tag to clipboard"/>

                            <!-- Comment (editable) -->
                            <TextBlock Grid.Row="2" Grid.Column="0" Text="Comment:"
                                       Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"
                                       VerticalAlignment="Top" Margin="0,5,0,0"/>
                            <TextBox Grid.Row="2" Grid.Column="1" Grid.ColumnSpan="2"
                                     x:Name="CommentTextBox"
                                     AcceptsReturn="True"
                                     TextWrapping="Wrap"
                                     MinHeight="60"
                                     MaxHeight="120"
                                     AutomationProperties.AutomationId="CommentTextBox"
                                     Watermark="Developer notes..."/>
                        </Grid>
                    </StackPanel>
                </Border>

                <!-- Appearance Section -->
                <Border BorderBrush="{DynamicResource SystemBaseMediumLowColor}"
                        BorderThickness="1"
                        CornerRadius="4"
                        Padding="15">
                    <StackPanel Spacing="10">
                        <TextBlock Text="Appearance" FontWeight="SemiBold" FontSize="14"/>

                        <Grid ColumnDefinitions="Auto,*" RowDefinitions="Auto,Auto,Auto,Auto,Auto" RowSpacing="8" ColumnSpacing="15">
                            <!-- Appearance Type Dropdown -->
                            <TextBlock Grid.Row="0" Grid.Column="0" Text="Appearance:"
                                       Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"
                                       VerticalAlignment="Center"/>
                            <ComboBox Grid.Row="0" Grid.Column="1" x:Name="AppearanceComboBox"
                                      HorizontalAlignment="Stretch"
                                      AutomationProperties.AutomationId="AppearanceComboBox"/>

                            <!-- Phenotype Dropdown -->
                            <TextBlock Grid.Row="1" Grid.Column="0" Text="Phenotype:"
                                       Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"
                                       VerticalAlignment="Center"/>
                            <ComboBox Grid.Row="1" Grid.Column="1" x:Name="PhenotypeComboBox"
                                      HorizontalAlignment="Stretch"
                                      AutomationProperties.AutomationId="PhenotypeComboBox"/>

                            <!-- Portrait -->
                            <TextBlock Grid.Row="2" Grid.Column="0" Text="Portrait:"
                                       Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"
                                       VerticalAlignment="Center"/>
                            <StackPanel Grid.Row="2" Grid.Column="1" Orientation="Horizontal" Spacing="10">
                                <TextBlock x:Name="PortraitText" Text="po_hu_m_01" VerticalAlignment="Center"
                                           FontFamily="Consolas, Courier New, monospace"/>
                                <TextBlock x:Name="PortraitIdText" Text="(ID: 0)" VerticalAlignment="Center"
                                           Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"/>
                            </StackPanel>

                            <!-- Tail -->
                            <TextBlock Grid.Row="3" Grid.Column="0" Text="Tail:"
                                       Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"
                                       VerticalAlignment="Center"/>
                            <TextBlock Grid.Row="3" Grid.Column="1" x:Name="TailText" Text="None" VerticalAlignment="Center"/>

                            <!-- Wings -->
                            <TextBlock Grid.Row="4" Grid.Column="0" Text="Wings:"
                                       Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"
                                       VerticalAlignment="Center"/>
                            <TextBlock Grid.Row="4" Grid.Column="1" x:Name="WingsText" Text="None" VerticalAlignment="Center"/>
                        </Grid>
                    </StackPanel>
                </Border>

                <!-- Body Parts Section (visible only for part-based appearances) -->
                <Border BorderBrush="{DynamicResource SystemBaseMediumLowColor}"
                        BorderThickness="1"
                        CornerRadius="4"
                        Padding="15"
                        x:Name="BodyPartsSection"
                        IsVisible="False">
                    <StackPanel Spacing="10">
                        <TextBlock Text="Body Parts (Dynamic Appearance)" FontWeight="SemiBold" FontSize="14"/>
                        <TextBlock Text="Part-based appearance allows customization of individual body components."
                                   FontSize="11"
                                   Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"
                                   Margin="0,0,0,5"/>

                        <!-- Body part grid - 3 columns -->
                        <Grid ColumnDefinitions="*,*,*" RowDefinitions="Auto,Auto,Auto,Auto,Auto,Auto,Auto"
                              RowSpacing="8" ColumnSpacing="20">

                            <!-- Row 0: Head (centered) -->
                            <StackPanel Grid.Row="0" Grid.Column="1" Spacing="2">
                                <TextBlock Text="Head" FontSize="11" Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"/>
                                <TextBlock x:Name="HeadText" Text="pMo0_HEAD007" FontFamily="Consolas" FontSize="11"/>
                            </StackPanel>

                            <!-- Row 1: Neck (centered) -->
                            <StackPanel Grid.Row="1" Grid.Column="1" Spacing="2">
                                <TextBlock Text="Neck" FontSize="11" Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"/>
                                <TextBlock x:Name="NeckText" Text="pMo0_NECK001" FontFamily="Consolas" FontSize="11"/>
                            </StackPanel>

                            <!-- Row 2: Shoulders -->
                            <StackPanel Grid.Row="2" Grid.Column="0" Spacing="2">
                                <TextBlock Text="Left Shoulder" FontSize="11" Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"/>
                                <TextBlock x:Name="LShoulText" Text="0" FontFamily="Consolas" FontSize="11"/>
                            </StackPanel>
                            <StackPanel Grid.Row="2" Grid.Column="1" Spacing="2">
                                <TextBlock Text="Torso" FontSize="11" Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"/>
                                <TextBlock x:Name="TorsoText" Text="pMo0_CHEST00" FontFamily="Consolas" FontSize="11"/>
                            </StackPanel>
                            <StackPanel Grid.Row="2" Grid.Column="2" Spacing="2">
                                <TextBlock Text="Right Shoulder" FontSize="11" Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"/>
                                <TextBlock x:Name="RShoulText" Text="0" FontFamily="Consolas" FontSize="11"/>
                            </StackPanel>

                            <!-- Row 3: Biceps -->
                            <StackPanel Grid.Row="3" Grid.Column="0" Spacing="2">
                                <TextBlock Text="Left Bicep" FontSize="11" Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"/>
                                <TextBlock x:Name="LBicepText" Text="pMo0_BICEPL00" FontFamily="Consolas" FontSize="11"/>
                            </StackPanel>
                            <StackPanel Grid.Row="3" Grid.Column="1" Spacing="2">
                                <TextBlock Text="Pelvis" FontSize="11" Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"/>
                                <TextBlock x:Name="PelvisText" Text="pMo0_PELVIS00" FontFamily="Consolas" FontSize="11"/>
                            </StackPanel>
                            <StackPanel Grid.Row="3" Grid.Column="2" Spacing="2">
                                <TextBlock Text="Right Bicep" FontSize="11" Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"/>
                                <TextBlock x:Name="RBicepText" Text="pMo0_BICEPR01" FontFamily="Consolas" FontSize="11"/>
                            </StackPanel>

                            <!-- Row 4: Forearms -->
                            <StackPanel Grid.Row="4" Grid.Column="0" Spacing="2">
                                <TextBlock Text="Left Forearm" FontSize="11" Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"/>
                                <TextBlock x:Name="LFArmText" Text="pMo0_FOREL00" FontFamily="Consolas" FontSize="11"/>
                            </StackPanel>
                            <StackPanel Grid.Row="4" Grid.Column="1" Spacing="2">
                                <TextBlock Text="Belt" FontSize="11" Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"/>
                                <TextBlock x:Name="BeltText" Text="0" FontFamily="Consolas" FontSize="11"/>
                            </StackPanel>
                            <StackPanel Grid.Row="4" Grid.Column="2" Spacing="2">
                                <TextBlock Text="Right Forearm" FontSize="11" Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"/>
                                <TextBlock x:Name="RFArmText" Text="pMo0_FORER00" FontFamily="Consolas" FontSize="11"/>
                            </StackPanel>

                            <!-- Row 5: Hands and Thighs -->
                            <StackPanel Grid.Row="5" Grid.Column="0" Spacing="2">
                                <TextBlock Text="Left Hand" FontSize="11" Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"/>
                                <TextBlock x:Name="LHandText" Text="pMo0_HANDL00" FontFamily="Consolas" FontSize="11"/>
                            </StackPanel>
                            <StackPanel Grid.Row="5" Grid.Column="1">
                                <Grid ColumnDefinitions="*,*" ColumnSpacing="10">
                                    <StackPanel Grid.Column="0" Spacing="2">
                                        <TextBlock Text="Left Thigh" FontSize="11" Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"/>
                                        <TextBlock x:Name="LThighText" Text="pMo0_LEGL001" FontFamily="Consolas" FontSize="11"/>
                                    </StackPanel>
                                    <StackPanel Grid.Column="1" Spacing="2">
                                        <TextBlock Text="Right Thigh" FontSize="11" Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"/>
                                        <TextBlock x:Name="RThighText" Text="pMo0_LEGR001" FontFamily="Consolas" FontSize="11"/>
                                    </StackPanel>
                                </Grid>
                            </StackPanel>
                            <StackPanel Grid.Row="5" Grid.Column="2" Spacing="2">
                                <TextBlock Text="Right Hand" FontSize="11" Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"/>
                                <TextBlock x:Name="RHandText" Text="pMo0_HANDR01" FontFamily="Consolas" FontSize="11"/>
                            </StackPanel>

                            <!-- Row 6: Shins and Feet -->
                            <StackPanel Grid.Row="6" Grid.Column="0">
                                <Grid ColumnDefinitions="*,*" ColumnSpacing="10">
                                    <StackPanel Grid.Column="0" Spacing="2">
                                        <TextBlock Text="Left Shin" FontSize="11" Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"/>
                                        <TextBlock x:Name="LShinText" Text="pMo0_SHINL00" FontFamily="Consolas" FontSize="11"/>
                                    </StackPanel>
                                    <StackPanel Grid.Column="1" Spacing="2">
                                        <TextBlock Text="Left Foot" FontSize="11" Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"/>
                                        <TextBlock x:Name="LFootText" Text="pMo0_FOOTL00" FontFamily="Consolas" FontSize="11"/>
                                    </StackPanel>
                                </Grid>
                            </StackPanel>
                            <StackPanel Grid.Row="6" Grid.Column="2">
                                <Grid ColumnDefinitions="*,*" ColumnSpacing="10">
                                    <StackPanel Grid.Column="0" Spacing="2">
                                        <TextBlock Text="Right Shin" FontSize="11" Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"/>
                                        <TextBlock x:Name="RShinText" Text="pMo0_SHINR00" FontFamily="Consolas" FontSize="11"/>
                                    </StackPanel>
                                    <StackPanel Grid.Column="1" Spacing="2">
                                        <TextBlock Text="Right Foot" FontSize="11" Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"/>
                                        <TextBlock x:Name="RFootText" Text="pMo0_FOOTR00" FontFamily="Consolas" FontSize="11"/>
                                    </StackPanel>
                                </Grid>
                            </StackPanel>
                        </Grid>
                    </StackPanel>
                </Border>

                <!-- Flags Section -->
                <Border BorderBrush="{DynamicResource SystemBaseMediumLowColor}"
                        BorderThickness="1"
                        CornerRadius="4"
                        Padding="15">
                    <StackPanel Spacing="10">
                        <TextBlock Text="Flags" FontWeight="SemiBold" FontSize="14"/>

                        <WrapPanel Orientation="Horizontal">
                            <Border Margin="0,0,8,8" Padding="8,4"
                                    Background="{DynamicResource SystemControlBackgroundBaseLowBrush}"
                                    CornerRadius="4">
                                <StackPanel Orientation="Horizontal" Spacing="6">
                                    <TextBlock x:Name="PlotIcon" Text="[  ]" FontFamily="Consolas"/>
                                    <TextBlock Text="Plot"/>
                                </StackPanel>
                            </Border>
                            <Border Margin="0,0,8,8" Padding="8,4"
                                    Background="{DynamicResource SystemControlBackgroundBaseLowBrush}"
                                    CornerRadius="4">
                                <StackPanel Orientation="Horizontal" Spacing="6">
                                    <TextBlock x:Name="ImmortalIcon" Text="[  ]" FontFamily="Consolas"/>
                                    <TextBlock Text="Immortal"/>
                                </StackPanel>
                            </Border>
                            <Border Margin="0,0,8,8" Padding="8,4"
                                    Background="{DynamicResource SystemControlBackgroundBaseLowBrush}"
                                    CornerRadius="4">
                                <StackPanel Orientation="Horizontal" Spacing="6">
                                    <TextBlock x:Name="NoPermDeathIcon" Text="[  ]" FontFamily="Consolas"/>
                                    <TextBlock Text="No Perm Death"/>
                                </StackPanel>
                            </Border>
                            <Border Margin="0,0,8,8" Padding="8,4"
                                    Background="{DynamicResource SystemControlBackgroundBaseLowBrush}"
                                    CornerRadius="4">
                                <StackPanel Orientation="Horizontal" Spacing="6">
                                    <TextBlock x:Name="IsPCIcon" Text="[  ]" FontFamily="Consolas"/>
                                    <TextBlock Text="Is PC"/>
                                </StackPanel>
                            </Border>
                            <Border Margin="0,0,8,8" Padding="8,4"
                                    Background="{DynamicResource SystemControlBackgroundBaseLowBrush}"
                                    CornerRadius="4">
                                <StackPanel Orientation="Horizontal" Spacing="6">
                                    <TextBlock x:Name="DisarmableIcon" Text="[  ]" FontFamily="Consolas"/>
                                    <TextBlock Text="Disarmable"/>
                                </StackPanel>
                            </Border>
                            <Border Margin="0,0,8,8" Padding="8,4"
                                    Background="{DynamicResource SystemControlBackgroundBaseLowBrush}"
                                    CornerRadius="4">
                                <StackPanel Orientation="Horizontal" Spacing="6">
                                    <TextBlock x:Name="LootableIcon" Text="[  ]" FontFamily="Consolas"/>
                                    <TextBlock Text="Lootable"/>
                                </StackPanel>
                            </Border>
                            <Border Margin="0,0,8,8" Padding="8,4"
                                    Background="{DynamicResource SystemControlBackgroundBaseLowBrush}"
                                    CornerRadius="4">
                                <StackPanel Orientation="Horizontal" Spacing="6">
                                    <TextBlock x:Name="InterruptableIcon" Text="[  ]" FontFamily="Consolas"/>
                                    <TextBlock Text="Interruptable"/>
                                </StackPanel>
                            </Border>
                        </WrapPanel>
                    </StackPanel>
                </Border>

                <!-- Behavior Section -->
                <Border BorderBrush="{DynamicResource SystemBaseMediumLowColor}"
                        BorderThickness="1"
                        CornerRadius="4"
                        Padding="15">
                    <StackPanel Spacing="10">
                        <TextBlock Text="Behavior" FontWeight="SemiBold" FontSize="14"/>

                        <Grid ColumnDefinitions="Auto,*" RowDefinitions="Auto,Auto,Auto,Auto,Auto,Auto" RowSpacing="8" ColumnSpacing="15">
                            <TextBlock Grid.Row="0" Grid.Column="0" Text="Faction ID:"
                                       Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"
                                       VerticalAlignment="Center"/>
                            <TextBlock Grid.Row="0" Grid.Column="1" x:Name="FactionText" Text="0" VerticalAlignment="Center"/>

                            <TextBlock Grid.Row="1" Grid.Column="0" Text="Perception Range:"
                                       Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"
                                       VerticalAlignment="Center"/>
                            <TextBlock Grid.Row="1" Grid.Column="1" x:Name="PerceptionText" Text="11" VerticalAlignment="Center"/>

                            <TextBlock Grid.Row="2" Grid.Column="0" Text="Walk Rate:"
                                       Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"
                                       VerticalAlignment="Center"/>
                            <TextBlock Grid.Row="2" Grid.Column="1" x:Name="WalkRateText" Text="0" VerticalAlignment="Center"/>

                            <TextBlock Grid.Row="3" Grid.Column="0" Text="Sound Set:"
                                       Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"
                                       VerticalAlignment="Center"/>
                            <TextBlock Grid.Row="3" Grid.Column="1" x:Name="SoundSetText" Text="0" VerticalAlignment="Center"/>

                            <TextBlock Grid.Row="4" Grid.Column="0" Text="Decay Time:"
                                       Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"
                                       VerticalAlignment="Center"/>
                            <TextBlock Grid.Row="4" Grid.Column="1" x:Name="DecayTimeText" Text="5000 ms" VerticalAlignment="Center"/>

                            <TextBlock Grid.Row="5" Grid.Column="0" Text="Body Bag:"
                                       Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"
                                       VerticalAlignment="Center"/>
                            <TextBlock Grid.Row="5" Grid.Column="1" x:Name="BodyBagText" Text="0" VerticalAlignment="Center"/>
                        </Grid>
                    </StackPanel>
                </Border>
            </StackPanel>
        </ScrollViewer>
    </Border>
</UserControl>
